prompt --application/set_environment
set define off verify off feedback off
whenever sqlerror exit sql.sqlcode rollback
--------------------------------------------------------------------------------
--
-- ORACLE Application Express (APEX) export file
--
-- You should run the script connected to SQL*Plus as the Oracle user
-- APEX_190200 or as the owner (parsing schema) of the application.
--
-- NOTE: Calls to apex_application_install override the defaults below.
--
--------------------------------------------------------------------------------
begin
wwv_flow_api.import_begin (
 p_version_yyyy_mm_dd=>'2019.10.04'
,p_release=>'19.2.0.00.18'
,p_default_workspace_id=>9754094275475112
,p_default_application_id=>102
,p_default_id_offset=>0
,p_default_owner=>'AREEVES'
);
end;
/
 
prompt APPLICATION 102 - Plugins for apex
--
-- Application Export:
--   Application:     102
--   Name:            Plugins for apex
--   Date and Time:   21:03 Friday March 27, 2020
--   Exported By:     AREEVES
--   Flashback:       0
--   Export Type:     Component Export
--   Manifest
--     PLUGIN: 20818779849753607903
--   Manifest End
--   Version:         19.2.0.00.18
--   Instance ID:     9753820354143813
--

begin
  -- replace components
  wwv_flow_api.g_mode := 'REPLACE';
end;
/
prompt --application/shared_components/plugins/item_type/com_prescottprogramming_validatetext
begin
wwv_flow_api.create_plugin(
 p_id=>wwv_flow_api.id(20818779849753607903)
,p_plugin_type=>'ITEM TYPE'
,p_name=>'COM.PRESCOTTPROGRAMMING.VALIDATETEXT'
,p_display_name=>'validateInputs'
,p_supported_ui_types=>'DESKTOP'
,p_supported_component_types=>'APEX_APPLICATION_PAGE_ITEMS'
,p_plsql_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'FUNCTION validateText (',
'    p_item        in apex_plugin.t_page_item,',
'    p_plugin      in apex_plugin.t_plugin,',
'    p_value       in varchar2,',
'    p_is_readonly in boolean,',
'    p_is_printer_friendly in boolean)',
'    RETURN apex_plugin.t_page_item_render_result',
'IS',
'    l_name varchar2(30);',
'    l_result apex_plugin.t_page_item_render_result;',
'    l_arg apex_application_page_items.attribute_01%TYPE := p_item.attribute_01;',
'    ',
'BEGIN',
'    ',
'    IF p_is_readonly OR p_is_printer_friendly THEN',
'     APEX_PLUGIN_UTIL.print_hidden_if_readonly (',
'       p_item_name    => p_item.name,',
'       p_value        => p_value,',
'       p_is_readonly  => p_is_readonly,',
'       p_is_printer_friendly => p_is_printer_friendly);',
'     APEX_PLUGIN_UTIL.print_display_only (',
'       p_item_name    => p_item.name,',
'       p_display_value => p_value,',
'       p_show_line_breaks => false,',
'       p_escape       => true,',
'       p_attributes   => p_item.element_attributes);',
'    ELSE',
'       l_name := APEX_PLUGIN.get_input_name_for_page_item(p_is_multi_value => false);',
'       htp.p(''<input type="text" name="''||l_name||''" id="''||p_item.name||''" ''||''value="''||htf.escape_sc(p_value)||''" size="''||p_item.element_width||''" ''||''maxlength="''||p_item.element_max_length||',
'            ''" ''||p_item.element_attributes||'' onChange="DoValidate(''''''||p_item.name||'''''',''''''||l_arg||'''''')"/> '');',
'       APEX_JAVASCRIPT.add_library (p_name => ''validateText'', p_directory => p_plugin.file_prefix, p_version => null);',
'       -- APEX_JAVASCRIPT.add_onload_code(p_code => '' DoValidate("''||p_item.name||''","''||l_arg||''")'');',
'    END IF;',
'    return l_result;',
'end validateText;'))
,p_api_version=>1
,p_render_function=>'validateText'
,p_standard_attributes=>'VISIBLE'
,p_substitute_attributes=>true
,p_subscribe_plugin_settings=>true
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'Valid Attributes are:',
'''ALPHA''  - Alpha only allowed, no numbers or special chars.',
'''EMAIL'' - EMAIL formatted strings only.',
'''NUMBER'' number format only no letters or special chars',
'''CURRENCY'' allows only US formatted dollar values.',
'''DATE''  Date formats the US only',
'''PHONE'' Phone number formats only.'))
,p_version_identifier=>'1.0'
,p_files_version=>35
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(20818780063418669754)
,p_plugin_id=>wwv_flow_api.id(20818779849753607903)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>1
,p_display_sequence=>10
,p_prompt=>'FIELD TYPE'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_default_value=>'ALPHA'
,p_is_translatable=>false
,p_help_text=>'The types are ''ALPHA'', ''EMPID'' and ''DATE'''
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '66756E6374696F6E20446F56616C6964617465286F626A2C61726729207B0D0A202020202F2F616C657274286F626A293B0D0A097661722070686F6E65457870203D202F5E5B5C2B5D3F5B285D3F5B302D395D7B337D5B295D3F5B2D5C735C2E5D3F5B30';
wwv_flow_api.g_varchar2_table(2) := '2D395D7B337D5B2D5C735C2E5D3F5B302D395D7B342C367D242F696D3B0D0A2020202076617220616C706861457870203D202F5E5B612D7A412D5A5C735D2A242F3B0D0A2020202076617220616C7068614E756D457870203D202F5E5B302D39612D7A41';
wwv_flow_api.g_varchar2_table(3) := '2D5A5C735D2A242F3B0D0A202020207661722063757272656E6379203D202F5E5C24285C647B312C337D285C2C5C647B337D292A7C285C642B2929285C2E5C647B327D293F242F3B0D0A202020207661722064617465666F726D6174203D202F5E28303F';
wwv_flow_api.g_varchar2_table(4) := '5B312D395D7C5B31325D5B302D395D7C335B30315D295B5C2F5C2D5D28303F5B312D395D7C315B3031325D295B5C2F5C2D5D5C647B347D242F3B200D0A202020207661722064617465666F726D617432203D202F5E32305C647B327D282D7C5C2F292828';
wwv_flow_api.g_varchar2_table(5) := '305B312D395D297C28315B302D325D2929282D7C5C2F292828305B312D395D297C285B312D325D5B302D395D297C28335B302D315D292928547C5C732928285B302D315D5B302D395D297C28325B302D335D29293A285B302D355D5B302D395D293A285B';
wwv_flow_api.g_varchar2_table(6) := '302D355D5B302D395D292F0D0A2020202076617220656D61696C466F726D6174203D202F5E28285B5E3C3E28295B5C5D5C5C2E2C3B3A5C73405C225D2B285C2E5B5E3C3E28295B5C5D5C5C2E2C3B3A5C73405C225D2B292A297C285C222E2B5C22292940';
wwv_flow_api.g_varchar2_table(7) := '28285C5B5B302D395D7B312C337D5C2E5B302D395D7B312C337D5C2E5B302D395D7B312C337D5C2E5B302D395D7B312C337D5C5D297C28285B612D7A412D5A5C2D302D395D2B5C2E292B5B612D7A412D5A5D7B322C7D2929242F3B0D0A20202020766172';
wwv_flow_api.g_varchar2_table(8) := '207374724C656E2020203D2031313B0D0A2020202076617220737472203D20646F63756D656E742E676574456C656D656E7442794964286F626A293B0D0A0976617220656D61696C5F666C6167203D202259223B0D0A090D0A202020202F2F616C657274';
wwv_flow_api.g_varchar2_table(9) := '287374722E76616C7565293B200D0A202020200D0A20202020206966286172672E746F5570706572436173652829203D3D2027414C50484127297B0D0A202020202020202020202020696628217374722E76616C75652E6D6174636828616C7068614578';
wwv_flow_api.g_varchar2_table(10) := '7029290D0A2020202020202020202020207B0D0A20202020202020202020202020202020616C6572742822506C6561736520656E746572206F6E6C79204C65747465727322293B0D0A202020202020202020202020202020207374722E76616C7565203D';
wwv_flow_api.g_varchar2_table(11) := '2027273B0D0A2020202020202020202020202020202073657454696D656F75742866756E6374696F6E2829207B646F63756D656E742E676574456C656D656E7442794964287374722E6964292E666F63757328293B207D2C203130293B0D0A2020202020';
wwv_flow_api.g_varchar2_table(12) := '20202020202020202020200D0A2020202020202020202020207D0D0A2020202020202020200D0A20202020207D20656C7365206966286172672E746F5570706572436173652829203D3D2027454D41494C27297B0D0A2020202020202020200D0A202020';
wwv_flow_api.g_varchar2_table(13) := '20202020202020202069662821656D61696C466F726D61742E74657374287374722E76616C756529290D0A2020202020202020202020207B0D0A20202020202020202020202020202020616C6572742822506C6561736520656E746572206F6E6C792076';
wwv_flow_api.g_varchar2_table(14) := '616C696420656D61696C2061646472657373657322293B0D0A202020202020202020202020202020207374722E76616C7565203D2027273B0D0A2020202020202020202020202020202073657454696D656F75742866756E6374696F6E2829207B646F63';
wwv_flow_api.g_varchar2_table(15) := '756D656E742E676574456C656D656E7442794964287374722E6964292E666F63757328293B207D2C203130293B0D0A202020202020202020202020202020200D0A2020202020202020202020207D0D0A20202020202020200D0A20202020202020207D20';
wwv_flow_api.g_varchar2_table(16) := '656C736520696620286172672E746F5570706572436173652829203D3D202743555252454E435927297B0D0A0D0A202020202020202020202020696620282163757272656E63792E74657374287374722E76616C756529290D0A20202020202020202020';
wwv_flow_api.g_varchar2_table(17) := '20207B0D0A20202020202020202020202020202020616C6572742822506C6561736520656E746572206F6E6C792076616C696420552E532E20446F6C6C617220666F726D61747322293B0D0A202020202020202020202020202020207374722E76616C75';
wwv_flow_api.g_varchar2_table(18) := '65203D2027273B0D0A2020202020202020202020202020202073657454696D656F75742866756E6374696F6E2829207B646F63756D656E742E676574456C656D656E7442794964287374722E6964292E666F63757328293B207D2C203130293B0D0A2020';
wwv_flow_api.g_varchar2_table(19) := '202020202020202020207D0D0A20202020202020207D20656C7365206966286172672E746F5570706572436173652829203D3D20274E554D42455227297B0D0A2020202020202020200D0A20202020202020202020202069662869734E614E287374722E';
wwv_flow_api.g_varchar2_table(20) := '76616C756529290D0A2020202020202020202020207B0D0A20202020202020202020202020202020616C6572742822506C6561736520656E746572206F6E6C79206E756D626572732E204C65747465727320616E64207370656369616C20636861726163';
wwv_flow_api.g_varchar2_table(21) := '7465727320617265206E6F7420616C6C6F776564206865726522293B0D0A202020202020202020202020202020207374722E76616C7565203D2027273B0D0A2020202020202020202020202020202073657454696D656F75742866756E6374696F6E2829';
wwv_flow_api.g_varchar2_table(22) := '207B646F63756D656E742E676574456C656D656E7442794964287374722E6964292E666F63757328293B207D2C203130293B0D0A202020202020202020202020202020200D0A2020202020202020202020207D0D0A0920200D0A20202020207D20656C73';
wwv_flow_api.g_varchar2_table(23) := '65206966286172672E746F5570706572436173652829203D3D202750484F4E4527297B0D0A2020202020202020200D0A2020202020202020202020206966282170686F6E654578702E74657374287374722E76616C756529290D0A202020202020202020';
wwv_flow_api.g_varchar2_table(24) := '2020207B0D0A20202020202020202020202020202020616C6572742822506C6561736520656E746572206F6E6C792076616C69642070686F6E65206E756D626572732E2056616C6964206E756D62657220666F726D61747320617265203535352E313233';
wwv_flow_api.g_varchar2_table(25) := '2E313233342C202838303029203132332D313233342C203830302D3132332D31323334206F72202B313830303132333132333422293B0D0A202020202020202020202020202020207374722E76616C7565203D2027273B0D0A2020202020202020202020';
wwv_flow_api.g_varchar2_table(26) := '202020202073657454696D656F75742866756E6374696F6E2829207B646F63756D656E742E676574456C656D656E7442794964287374722E6964292E666F63757328293B207D2C203130293B0D0A202020202020202020202020202020200D0A20202020';
wwv_flow_api.g_varchar2_table(27) := '20202020202020207D0D0A2020202020202020200D0A202020202020202020200D0A20202020207D20656C7365206966286172672E746F5570706572436173652829203D3D2027444154452729207B0D0A2020202020202020200D0A2020202020202020';
wwv_flow_api.g_varchar2_table(28) := '206966287374722E76616C75652E6D617463682864617465666F726D617431292920200D0A2020202020202020207B20200D0A202020202020202020202020202073657454696D656F75742866756E6374696F6E2829207B646F63756D656E742E676574';
wwv_flow_api.g_varchar2_table(29) := '456C656D656E7442794964287374722E6964292E666F63757328293B207D2C203130293B200D0A20202020202020202020202020202F2F5465737420776869636820736570657261746F72206973207573656420272F27206F7220272D2720200D0A2020';
wwv_flow_api.g_varchar2_table(30) := '202020202020202020202020766172206F7065726131203D207374722E76616C75652E73706C697428272F27293B20200D0A2020202020202020202020202020766172206F7065726132203D207374722E76616C75652E73706C697428272D27293B2020';
wwv_flow_api.g_varchar2_table(31) := '0D0A20202020202020202020202020206C6F7065726131203D206F70657261312E6C656E6774683B20200D0A20202020202020202020202020206C6F7065726132203D206F70657261322E6C656E6774683B20200D0A2020202020202020202020202020';
wwv_flow_api.g_varchar2_table(32) := '2F2F20457874726163742074686520737472696E6720696E746F206D6F6E74682C206461746520616E64207965617220200D0A2020202020202020202020202020696620286C6F70657261313E312920200D0A20202020202020202020202020207B2020';
wwv_flow_api.g_varchar2_table(33) := '0D0A202020202020202020202020202020202020766172207064617465203D207374722E76616C75652E73706C697428272F27293B20200D0A2020202020202020202020202020207D20200D0A2020202020202020202020202020656C73652069662028';
wwv_flow_api.g_varchar2_table(34) := '6C6F70657261323E312920200D0A20202020202020202020202020207B20200D0A202020202020202020202020202020202020766172207064617465203D207374722E76616C75652E73706C697428272D27293B20200D0A202020202020202020202020';
wwv_flow_api.g_varchar2_table(35) := '20207D20200D0A2020202020202020202020202020766172206464203D207061727365496E742870646174655B305D293B20200D0A2020202020202020202020202020766172206D6D20203D207061727365496E742870646174655B315D293B20200D0A';
wwv_flow_api.g_varchar2_table(36) := '2020202020202020202020202020766172207979203D207061727365496E742870646174655B325D293B20200D0A20202020202020202020202020202F2F20437265617465206C697374206F662064617973206F662061206D6F6E7468205B617373756D';
wwv_flow_api.g_varchar2_table(37) := '65207468657265206973206E6F206C65617020796561722062792064656661756C745D20200D0A2020202020202020202020202020766172204C6973746F6644617973203D205B33312C32382C33312C33302C33312C33302C33312C33312C33302C3331';
wwv_flow_api.g_varchar2_table(38) := '2C33302C33315D3B20200D0A2020202020202020202020202020696620286D6D3D3D31207C7C206D6D3E322920200D0A20202020202020202020202020207B20200D0A2020202020202020202020202020202020206966202864643E4C6973746F664461';
wwv_flow_api.g_varchar2_table(39) := '79735B6D6D2D315D2920200D0A2020202020202020202020202020202020207B20200D0A20202020202020202020202020202020202020202020616C6572742827496E76616C6964206461746520666F726D61742120557365206F6E6C79205553206461';
wwv_flow_api.g_varchar2_table(40) := '746520666F726D61742C2065783A204D4D2D44442D59595959206F72204D4D2F44442F5959595927293B200D0A202020202020202020202020202020202020202020207374722E76616C7565203D2027273B0D0A20202020202020202020202020202020';
wwv_flow_api.g_varchar2_table(41) := '20202020202073657454696D656F75742866756E6374696F6E2829207B646F63756D656E742E676574456C656D656E7442794964287374722E6964292E666F63757328293B207D2C203130293B200D0A2020202020202020202020202020202020202020';
wwv_flow_api.g_varchar2_table(42) := '202072657475726E2066616C73653B20200D0A2020202020202020202020202020202020207D20200D0A20202020202020202020202020207D20200D0A2020202020202020202020202020696620286D6D3D3D322920200D0A2020202020202020202020';
wwv_flow_api.g_varchar2_table(43) := '2020207B20200D0A202020202020202020202020202020202020766172206C79656172203D2066616C73653B20200D0A20202020202020202020202020202020202069662028202821287979202520342920262620797920252031303029207C7C202128';
wwv_flow_api.g_varchar2_table(44) := '797920252034303029292020200D0A2020202020202020202020202020202020207B20200D0A202020202020202020202020202020202020202020206C79656172203D20747275653B20200D0A2020202020202020202020202020202020207D20200D0A';
wwv_flow_api.g_varchar2_table(45) := '20202020202020202020202020202020202069662028286C796561723D3D66616C736529202626202864643E3D3239292920200D0A2020202020202020202020202020202020207B20200D0A20202020202020202020202020202020202020202020616C';
wwv_flow_api.g_varchar2_table(46) := '6572742827496E76616C6964206461746520666F726D61742120506C656173652075736520552E532E206461746520666F726D61747327293B0D0A202020202020202020202020202020202020202020207374722E76616C7565203D2027273B0D0A2020';
wwv_flow_api.g_varchar2_table(47) := '202020202020202020202020202020202020202073657454696D656F75742866756E6374696F6E2829207B646F63756D656E742E676574456C656D656E7442794964287374722E6964292E666F63757328293B207D2C203130293B20200D0A2020202020';
wwv_flow_api.g_varchar2_table(48) := '202020202020202020202020202020202072657475726E2066616C73653B20200D0A2020202020202020202020202020202020207D20200D0A20202020202020202020202020202020202069662028286C796561723D3D7472756529202626202864643E';
wwv_flow_api.g_varchar2_table(49) := '3239292920200D0A2020202020202020202020202020202020207B20200D0A20202020202020202020202020202020202020202020616C6572742827496E76616C6964206461746520666F726D61742120557365206F6E6C79205553206461746520666F';
wwv_flow_api.g_varchar2_table(50) := '726D61747327293B200D0A202020202020202020202020202020202020202020207374722E76616C7565203D2027273B0D0A2020202020202020202020202020202020202020202073657454696D656F75742866756E6374696F6E2829207B646F63756D';
wwv_flow_api.g_varchar2_table(51) := '656E742E676574456C656D656E7442794964287374722E6964292E666F63757328293B207D2C203130293B200D0A2020202020202020202020202020202020202020202072657475726E2066616C73653B20200D0A202020202020202020202020202020';
wwv_flow_api.g_varchar2_table(52) := '2020207D20200D0A20202020202020202020202020207D20200D0A20207D20200D0A2020656C736520200D0A20207B20200D0A2020616C6572742822496E76616C6964206461746520666F726D61742120596F75206D7573742075736520552E532E2044';
wwv_flow_api.g_varchar2_table(53) := '61746520466F726D61747322293B20200D0A20207374722E76616C7565203D2027273B0D0A202073657454696D656F75742866756E6374696F6E2829207B646F63756D656E742E676574456C656D656E7442794964287374722E6964292E666F63757328';
wwv_flow_api.g_varchar2_table(54) := '293B207D2C203130293B0D0A202072657475726E2066616C73653B20200D0A20207D20200D0A20207D20200D0A20202020200D0A2020202020202020202020200D0A207D';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(20539375840101869997)
,p_plugin_id=>wwv_flow_api.id(20818779849753607903)
,p_file_name=>'validateText.js'
,p_mime_type=>'application/javascript'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
prompt --application/end_environment
begin
wwv_flow_api.import_end(p_auto_install_sup_obj => nvl(wwv_flow_application_install.get_auto_install_sup_obj, false));
commit;
end;
/
set verify on feedback on define on
prompt  ...done
